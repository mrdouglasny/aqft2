Summary of the complex OS3 reflection-positivity proof for the Gaussian free field
==========================================================================

Setting and notation
--------------------
* Work with the complex positive-time test-function space and the complex
  Glimm–Jaffe generating functional `GJGeneratingFunctionalℂ` associated to a
  measure `dμ` on field configurations.
* For a finite family of positive-time test functions `(fᵢ)` and complex
  coefficients `(cᵢ)`, the OS3 quadratic form is
  ```
  Q := ∑ᵢⱼ (conj cᵢ) cⱼ · GJGeneratingFunctionalℂ dμ (fᵢ - Θ fⱼ),
  ```
  where `Θ` denotes time reflection on test functions.  OS3 asks for `Re Q ≥ 0`.

Here is a blueprint for how to prove that the standard bosonic free field covariance is reflection positive
following the proof in Glimm and Jaffe prop 6.2.5.

The idea of the proof is to re-express the spacetime condition as a condition on a spacelike hypersurface
in terms of an explicit time evolution operator.  One can then make the positive time condition explicit.
This is expressed in their equation (6.2.15),
\be\label{eq:spatialRP}
\langle \theta g_s, C f_t \rangle = \frac{1}{2} \langle g, \mu^{-1} e^{-\mu(s+t)} f\rangle .
\ee
Here the left hand side is a spacetime inner product on distributions $f_t = f \cdot \delta_t$
(respectively $g_s$) and $C$ is the covariance.  To show RP, we need to show that it is non-negative
for all $f=g$ and all $s,t\ge 0$.  The general positive time test function can be reinterpreted as
a map from $t\in\IR^+$ to spatial functions $f_t$, so this implies the original RP.

The right hand side is in terms of $L_2$ functions $f,g$ on space $\IR^{d-1}$, where $\mu=(-\Delta+m^2)^{1/2} > 0$ is
the energy.  In momentum space $\mu=(\vec k^2+m^2)^{1/2}$.
It is easy to show that this is positive in momentum space for all $f=g$.

To show Eq. (\ref{eq:spatialRP}), one can first go to momentum space on both sides.  This takes $f_t$ to $f \cdot e^{ip_0 t}$
and $\theta f_s$ to $f \cdot e^{-ip_0 s}$, since time reflection (and any linear isometry) commutes with Fourier transform.
The spatial momentum integrals are then the same on both sides, $\int d^{d-1} k \, |f(\vec k)|^2$ and can be cancelled.

The remaining integral $\int dp_0$ on the left hand side then becomes 
\be
\int_{-\infty}^\infty \frac{dp_0\, e^{ip_0(s+t)}}{p_0^2 + \vec p^2 + m^2} .
\ee
This can be done by contour integral, closing the contour with a large semicircle in the upper half plane.
The integrand has a pole at $p_0 = i\mu$ with residue $1/2\mu$, leading to the correct right hand side.

What are the underlying definitions we need to formalize this?  We need $L_2(\IR^{d-1})$ functions, and we will
also need them for other purposes such as to define the QFT Hilbert space.

It would be convenient to have a more abstract function space.

Here is the proof that this implies RP for the Gaussian measure.

\begin{theorem}[6.2.2]
The Gaussian measure $d\phi_C$ satisfies reflection positivity 
if and only if $C$ does.
\end{theorem}

\begin{proof}
Assume that $C$ is reflection positive, and let
\[
M_{ij} = S\{ f_i - \theta f_j \} 
       = S\{ f_i \} S\{ f_j \} \exp \langle \theta f_i, C f_j \rangle ,
\]
with $\operatorname{supp} f_i \subset \{ x : t > 0 \}$.

Then $M_{ij}$ has positive eigenvalues (i.e., is a positive matrix) 
if and only if 
\[
N_{ij} = \exp \langle \theta f_i, C f_j \rangle
\]
is a positive matrix. By assumption, 
\[
R_{ij} = \langle \theta f_i, C f_j \rangle
\]
is a positive matrix, and the positivity of $N_{ij} = e^{R_{ij}}$ follows: 

In fact, if $A_{ij}, B_{ij}$ are any positive matrices, then the matrix
\[
D_{ij} \equiv A_{ij} B_{ij}
\]
is also positive—from which we infer the positivity of
\[
N_{ij} = \sum \frac{1}{r!} (R_{ij})^r .
\]

To show that $D$ is positive, first consider the tensor product matrix 
$A \otimes B$ with entries $A_{ij} B_{kl}$. 
Note $A \otimes B$ is positive. Hence $A \otimes B$ is also positive 
when restricted to the subspace of vectors $\alpha$ with components 
$\alpha_{jl}$ which vanish unless $j = l$. 
On this subspace $A \otimes B = D$.
\end{proof}


Abstract factorisation in `OS3.lean`
------------------------------------
1. **Gaussian entry factorisation (`gaussian_entry_factor`)**: For a Gaussian
   measure that is reflection invariant and has bilinear covariance, each matrix
   entry satisfies
   ```
   Z[fᵢ - Θ fⱼ] = Z[fᵢ] · Z[fⱼ] · exp(Rᵢⱼ),
   ```
   where `Z[f] = GJGeneratingFunctionalℂ dμ f` and `Rᵢⱼ = Re S₂(Θ fᵢ, fⱼ)` is the
   real part of the two-point Schwinger function.  This rewrites the OS3 matrix as
   a Hadamard product of a rank-one matrix `(Zᵢ Zⱼ)` with the entrywise exponential
   of `R`.

2. **Reality of Gaussian values (`gaussian_generating_real`)**: For reflection-
   invariant Gaussian measures, `Z[f]` is fixed by complex conjugation.  This lets
   us express the rank-one factor as a PSD matrix of the form `y† y`, with
   `yᵢ := Z[fᵢ] cᵢ`.

3. **Quadratic-form rewrite (`gaussian_quadratic_real_rewrite`)**: Combining the
   previous points turns the original quadratic form into
   ```
   Re ∑ᵢⱼ (conj yᵢ) yⱼ · exp(Rᵢⱼ),
   ```
   i.e. the Hermitian quadratic form determined by the kernel `exp(R)` acting on
   the vector `y`.

4. **Reflection-matrix positivity (`reflection_matrix_posSemidef`)**: If the
   covariance is reflection positive, then the real matrix `R = (Re S₂(Θ fᵢ, fⱼ))`
   is positive semidefinite.

5. **Entrywise exponential preserves PSD (`entrywiseExp_posSemidef_of_posSemidef`)**:
   The HadamardExp machinery shows that applying the entrywise exponential to any
   real symmetric PSD matrix preserves positive semidefiniteness.  Therefore
   `exp(R)` is PSD.

6. **Schur product argument**: Taking the Hadamard product of PSD matrices keeps
   them PSD.  Since `(yᵢ · conj yⱼ)` is PSD and `exp(R)` is PSD, their Hadamard
   product is PSD.  Evaluating the Hermitian quadratic form of a PSD matrix at the
   vector `1` (or, equivalently, summing the entries as above) yields a nonnegative
   real part, proving `Re Q ≥ 0`.

Specialisation to the free field in `GFF_OS3.lean`
-------------------------------------------------
1. **Free-field inputs**: For the Gaussian free field with mass `m > 0`, the file
   establishes: 
   * `isGaussianGJ` for `gaussianFreeField_free m` (Gaussian characterisation),
   * bilinearity of the covariance via the explicit free covariance,
   * time-reflection invariance of the generating functional, and
   * reflection positivity of the covariance matrix extracted from the two-point
     function.

2. **Applying the abstract lemma**: Substituting these properties into
   `gaussian_quadratic_real_rewrite` expresses the OS3 quadratic form as a PSD
   Hadamard product, exactly as in the abstract argument.

3. **PSD conclusion**: The reflection matrix is PSD by covariance reflection
   positivity; its entrywise exponential is PSD by the HadamardExp lemma; and the
   Schur product theorem supplies the final non-negativity.

4. **Main theorem (`gaussianFreeField_satisfies_OS3`)**: The matrix-level result
   is converted into the statement that `Re Q ≥ 0` for every choice of coefficients
   and positive-time functions, giving OS3 reflection positivity for the complex
   Gaussian free field.

Key takeaways
-------------
* The heart of the proof is the Gaussian factorisation identity and the fact that
  reflection positivity of the covariance controls the real part of the Schwinger
  kernel.
* Entrywise exponential combined with the Schur product theorem transports PSD
  from the covariance matrix to the full OS3 matrix.
* Once the abstract framework is in place, the free-field verification reduces
  to checking the Gaussian, bilinear, reflection-invariant, and covariance-reflection-
  positive hypotheses for the specific measure.
